# Model Card — Diabetes Glucose Pattern Explainer

> ⚠️ This model is an **educational prototype** trained on **synthetic data**. It is NOT validated for clinical use. See [DISCLAIMER.md](DISCLAIMER.md).

---

## Model Details

| Field | Value |
|---|---|
| **Name** | Glucose Pattern Explainer |
| **Version** | 0.1.0 |
| **Type** | Gradient Boosted Trees (scikit-learn `GradientBoostingRegressor`) |
| **Purpose** | Educational demonstration of short-horizon glucose prediction |
| **Prediction horizon** | 30 minutes ahead (6 × 5-minute CGM intervals) |
| **Input features** | Lagged glucose values, rate-of-change, carbohydrate intake, insulin dose, activity steps, heart rate, time-of-day encoding |
| **Output** | Predicted blood glucose value (mg/dL) 30 minutes in the future |
| **Developed by** | diabetes-glucose-pattern-explainer contributors |
| **License** | MIT |

---

## Intended Use

- **Research**: Exploring feature importance and temporal patterns in CGM-like time series.
- **Education**: Teaching machine learning concepts applied to health data.
- **Pattern Visualization**: Illustrating how lifestyle factors (meals, insulin, activity) qualitatively relate to glucose dynamics.

---

## Out-of-Scope Use

The following uses are **explicitly not supported** and should **never** be attempted:

- Clinical decision support for real patients
- Real-time glucose alarming or hypoglycaemia/hyperglycaemia detection
- Insulin dosing recommendations
- Diagnosis of diabetes or any other medical condition
- Any use in a regulated healthcare setting

---

## Training Data

- **Source**: Entirely synthetic — generated by `src/diabetes_explainer/synth_data.py`
- **No real patient data** was used in training or evaluation
- The synthetic generator captures qualitative patterns (post-meal rise, insulin drop, circadian rhythm, activity effect) but does **not** represent any specific individual or population
- **Size**: ~4,000 samples by default (14 days × 288 readings/day, minus NaN rows after feature engineering)
- **Train/test split**: 80% / 20% chronological split (no shuffle)

---

## Evaluation Metrics

Metrics are computed on the held-out chronological test split of synthetic data:

| Metric | Typical Value (synthetic) |
|---|---|
| MAE (mg/dL) | ~2–8 mg/dL |
| RMSE (mg/dL) | ~3–12 mg/dL |

> These metrics reflect fit quality on synthetic data **only** and do not predict performance on real CGM data.

Actual metrics from the most recent training run are saved to `models/metrics.json`.

---

## Ethical Considerations

- **Privacy**: The software uses no real patient data by default. If users supply real data, they are responsible for de-identification and regulatory compliance (HIPAA, GDPR, etc.).
- **Bias**: The synthetic generator encodes simplified assumptions about metabolism. It does not reflect the diversity of real patients (age, diabetes type, comorbidities, medications, ethnicity, body composition, etc.).
- **Harm potential**: Misuse of this tool for clinical decisions could lead to serious patient harm. The disclaimer and documentation are designed to prevent this.
- **Transparency**: Model architecture, training code, and synthetic data generator are fully open-source.

---

## Limitations

1. Trained exclusively on synthetic data — no clinical validation.
2. Feature importances are correlational, not causal.
3. Gradient boosting cannot extrapolate beyond training distribution.
4. No personalisation — the model represents a single synthetic "average" patient.
5. No handling of CGM sensor artifacts, compression artifacts, or calibration errors.
6. 30-minute horizon only; longer horizons degrade rapidly.

---

## Caveats and Recommendations

- Do not interpret feature importance rankings as physiological ground truth.
- Results will differ substantially on real CGM data.
- For research use on real data: retrain on your dataset, apply proper cross-validation, and validate against clinical endpoints.
- Cite this repository if using in academic work, and clearly state the educational/prototype nature.
